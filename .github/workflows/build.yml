name: Build
on:
  workflow_dispatch:
  issues:
    types:
      - opened
  push:
    branches: [ "main" ]
  pull_request:
    branches: [ "main" ]
permissions: write-all
jobs:
  build:
    name: 'Xem quá trình'
    if: github.repository == 'Zelooooo/OS' && github.ref == 'refs/heads/main'
    runs-on: ubuntu-latest
    steps:
      - name: Load data
        uses: actions/checkout@v3
      - uses: actions-cool/pr-extract-issues@v1
        with:
          way: 'commit'
          issues-labels: 'l1, l2'
          remove-labels: 'bug1, bug2'
          issues-comment: |
            HI。这个 issue: ${number} 已经被修复了。
          issues-close: true
      - name: lock-issues
        uses: actions-cool/issues-helper@v3
        with:
          actions: 'close-issues'
          token: ${{ secrets.GITHUB_TOKEN }}
          issue-number: 3
          labels: 'duplicate'
          body: test
          
